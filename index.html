<!DOCTYPE html>
<html>
<head>
    <title>Selezione di link con HTML e JavaScript</title>
	  <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        /* Stile di base per le immagini */
        img {
            margin: 0;
        }

        /* Stile quando l'immagine è cliccata */
        img.clicked {
            filter: hue-rotate(185deg); /* Cambia la tonalità al clic (esempio: 180deg per il blu) */
        }
		
        #messageInput {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ccc;
            border-radius: 5px;
            font-size: 50px;
        }
	
        #submitButton {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ccc;
            border-radius: 5px;
            font-size: 50px;
        }
		#link0 {
    position: absolute;
	top: 20%;
	left: 23%;
}
    </style>
</head>
<body>
<div style="font-size: 20px; margin: 10px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #f5f5f5;">
        1) scrivi la tua dedica <br>2) seleziona il brano che vuoi ascoltare <br>3) premi invia e verrai rimandato ad una pagina con la tua dedica <br>4) scatta la foto e condividi 
    </div>
    <input type="text" id="messageInput" maxlength="40" placeholder="Scrivi la tua dedica">
    <button id="submitButton">INVIA</button>
	<img id="link0" src="vinile.png" alt="Immagine 0">
    <img id="link1" src="1.png" alt="Immagine 1">
    <img id="link2" src="2.png" alt="Immagine 2">
    <img id="link3" src="3.png" alt="Immagine 3">

    <script>
        // Definiamo i link per ciascuna immagine
        var link1 = "dedica.html";
        var link2 = "dedica2.html";
        var link3 = "dedica3.html";

        // Variabile per memorizzare il link selezionato
        var linkSelezionato = "";

        // Gestore di eventi per cliccare sulle immagini
        function imageClickHandler(imageId, link) {
            // Rimuovi la classe "clicked" da tutte le immagini
            var allImages = document.querySelectorAll("img");
            allImages.forEach(function(img) {
                img.classList.remove("clicked");
            });

            // Aggiungi la classe "clicked" all'immagine cliccata
            var selectedImage = document.getElementById(imageId);
            selectedImage.classList.add("clicked");

            // Imposta il link selezionato
            linkSelezionato = link;
        }

        // Aggiungi gestori di eventi alle immagini di selezione
        document.getElementById("link1").addEventListener("click", function() {
            imageClickHandler("link1", link1);
        });

        document.getElementById("link2").addEventListener("click", function() {
            imageClickHandler("link2", link2);
        });

        document.getElementById("link3").addEventListener("click", function() {
            imageClickHandler("link3", link3);
        });

        // Aggiungi un gestore di eventi al pulsante "Invia"
        document.getElementById("submitButton").addEventListener("click", function() {
            if (linkSelezionato !== "") {
                // Estrai il messaggio dall'input
                var messageInput = document.getElementById("messageInput");
                var message = messageInput.value;

                // Codifica il messaggio per passarlo come parametro nell'URL
                var encodedMessage = encodeURIComponent(message);

                // Costruisci l'URL della nuova pagina con il messaggio come parametro
                var newPageURL = linkSelezionato + "?message=" + encodedMessage;

                // Reindirizza l'utente alla nuova pagina
                window.location.href = newPageURL;
            }
        });
    </script>
</body>
</html>

